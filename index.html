

// HTML
<!DOCTYPE html>
<html>
  <head>
    <title>Web NFC Writer</title>
    <script src="https://rawgit.com/googlearchive/web-nfc/master/web-nfc.js"></script>
  </head>
  <body>
    <h1>Web NFC Writer</h1>
    <button id="write-btn">Write "Hello World" to NFC Tag</button>
    <script>
      // JS
      const writeBtn = document.querySelector('#write-btn');
      const message = "Hello World";

      // Check if Web NFC is supported
      if ('NDEFReader' in window) {
        // Wait for user to click the button
        writeBtn.addEventListener('click', async () => {
          try {
            // Get NFC reader
            const reader = new NDEFReader();
            // Scan for NFC tag
            const ndef = await reader.scan();
            // Create message to write
            const textRecord = new NDEFRecordText(message);
            const message = new NDEFMessage([textRecord]);
            // Write message to NFC tag
            await ndef.write(message);
            console.log("Successfully wrote message to NFC tag");
          } catch (error) {
            console.log("Error writing message to NFC tag: " + error);
          }
        });
      } else {
        // Web NFC is not supported
        console.log("Web NFC is not supported on this device");
      }
    </script>
  </body>
</html>
